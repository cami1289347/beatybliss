<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Perfil de Usuario</title>
  <link rel="stylesheet" href="style.css" />
  <style>
    .perfil-wrapper {
      display: flex;
      max-width: 1000px;
      margin: 2rem auto;
      background: #fff;
      box-shadow: 0 4px 12px rgba(0,0,0,0.1);
      border-radius: 16px;
      overflow: hidden;
      font-family: 'Segoe UI', sans-serif;
    }

    .perfil-izquierda {
      width: 35%;
      background: #fdf0f4;
      padding: 2rem;
      text-align: center;
    }

    .perfil-izquierda img {
      width: 120px;
      height: 120px;
      object-fit: cover;
      border-radius: 50%;
      border: 3px solid #ccc;
      margin-bottom: 1rem;
    }

    .perfil-izquierda button {
      display: block;
      width: 100%;
      margin: 0.5rem 0;
      padding: 10px;
      border: none;
      border-radius: 8px;
      background-color: #e91e63;
      color: white;
      cursor: pointer;
      transition: background 0.3s;
    }

    .perfil-izquierda button:hover {
      background-color: #c2185b;
    }

    .perfil-derecha {
      width: 65%;
      padding: 2rem;
    }

    .perfil-derecha h2 {
      margin-bottom: 1.5rem;
      color: #e91e63;
    }

    .perfil-derecha form {
      display: grid;
      gap: 1rem;
    }

    .perfil-derecha label {
      font-weight: bold;
      display: block;
      margin-bottom: 0.3rem;
    }

    .perfil-derecha input,
    .perfil-derecha select {
      padding: 0.6rem;
      border: 1px solid #ccc;
      border-radius: 6px;
      width: 100%;
    }

    .boton-guardar {
      margin-top: 1.5rem;
      background-color: #e91e63;
      color: white;
      padding: 10px;
      border: none;
      border-radius: 6px;
      font-size: 16px;
      cursor: pointer;
      transition: background 0.3s;
    }

    .boton-guardar:hover {
      background-color: #c2185b;
    }

    footer {
      text-align: center;
      margin-top: 2rem;
      padding: 1rem;
      background: #f5f5f5;
    }
  </style>
</head>
<body>
<header class="cabecera">
  <!-- Parte superior: logo, buscador, íconos -->
  <div class="header-top">
    <img src="logo.png" alt="Beauty Bliss Logo" class="logo">
    <input type="text" id="buscador" placeholder="Buscar productos...">
    <div class="icons">
      <div class="user-menu-wrapper">
        <a href="login.html" id="user-icon" title="Usuario"><i class="fas fa-user"></i></a>
        <div class="user-dropdown" id="user-dropdown" style="display: none;">
          <a href="perfil.html"><i class="fas fa-user-circle"></i> Mi Perfil</a>
          <a href="compras.html"><i class="fas fa-shopping-bag"></i> Mis Compras</a>
          <a href="index.html" id="logout-btn"><i class="fas fa-sign-out-alt"></i> Cerrar Sesión</a>
        </div>
      </div>
      <a href="#" title="Favoritos"><i class="fas fa-heart"></i></a>
      <a href="#" title="Carrito"><i class="fas fa-shopping-cart"></i></a>
      <a href="contacto.html" title="Contacto"><i class="fas fa-phone"></i></a>
    </div>
  </div>

  <!-- Barra de navegación debajo -->
  <nav class="main-nav">
    <div class="nav-links">
      <a href="index.html">Inicio</a>
      <a href="cuidado de la piel.html">Cuidado de la Piel</a>
      <a href="maquillaje.html">Rostro</a>
      <a href="cabello.html">Cabello</a>
      <a href="labios.html">Labios</a>
      <a href="uñas.html" class="active">Uñas</a>
    </div>
  </nav>
</header>
  <section class="perfil-wrapper">
    <div class="perfil-izquierda">
      <img src="logo.png" alt="Imagen de Perfil" id="preview" />
      <input type="file" accept="image/*" id="imgInput" />
      <button onclick="habilitarEdicion()">Ajustar perfil</button>
      <button onclick="eliminarCuenta()">Eliminar cuenta</button>
    </div>

    <div class="perfil-derecha">
      <h2>Información de perfil</h2>
      <form id="formPerfil">
        <div>
          <label for="nombre">Nombre completo:</label>
          <input type="text" id="nombre" disabled />
        </div>
        <div>
          <label for="correo">Correo:</label>
          <input type="email" id="correo" disabled />
        </div>
        <div>
          <label for="fechaNacimiento">Fecha de nacimiento:</label>
          <input type="text" id="fechaNacimiento" disabled />
        </div>
        <div>
          <label for="telefono">Teléfono:</label>
          <input type="text" id="telefono" disabled />
        </div>
        <div>
          <label for="direccion">Dirección:</label>
          <input type="text" id="direccion" disabled />
        </div>
        <div>
          <label for="codigoPostal">Código Postal:</label>
          <input type="text" id="codigoPostal" disabled />
        </div>
        <div>
          <label for="pais">País:</label>
          <select id="pais" disabled>
            <option value="Perú">Perú</option>
            <option value="Argentina">Argentina</option>
            <option value="México">México</option>
            <option value="Colombia">Colombia</option>
          </select>
        </div>
        <div>
          <label for="distrito">Distrito (Lima - Perú):</label>
          <select id="distrito" disabled>
            <option value="">Seleccionar distrito</option>
            <option value="Miraflores">Miraflores</option>
            <option value="San Isidro">San Isidro</option>
            <option value="Surco">Santiago de Surco</option>
            <option value="San Borja">San Borja</option>
            <option value="La Molina">La Molina</option>
            <option value="Lince">Lince</option>
            <option value="Jesús María">Jesús María</option>
          </select>
        </div>
        <div>
          <label for="sexo">Sexo:</label>
          <select id="sexo" disabled>
            <option value="">Seleccionar sexo</option>
            <option value="Femenino">Femenino</option>
            <option value="Masculino">Masculino</option>
            <option value="Otro">Otro</option>
          </select>
        </div>
        <button type="submit" class="boton-guardar">Guardar cambios</button>
      </form>
    </div>
  </section>

  <footer>
    <div class="footer-col">
      <h4>Sobre Beauty Bliss</h4>
      <a href="Sobre-nosotros.html">Quienes somos</a>
      <a href="compromiso.html">Nuestro compromiso</a>
    </div>
    <div class="footer-col">
      <h4>Ayuda</h4>
      <a href="terminos.html">Términos y condiciones</a>
      <a href="eliminacion_datos.html">Políticas de cookies</a>
      <a href="politicas.html">Políticas de privacidad</a>
    </div>
    <div class="footer-col">
      <h4>Soporte</h4>
      <a href="contacto.html">Ayuda y contacto</a>
      <a href="reclamaciones.html">Libro de reclamaciones</a>
    </div>
    <div class="copyright">
      © 2025 Beauty Bliss. Todos los derechos reservados.
    </div>
</footer>


  <script>
    const form = document.getElementById("formPerfil");
    const inputs = form.querySelectorAll("input, select");

    const usuario = JSON.parse(localStorage.getItem("usuarioActual")) || {};

    // Cargar imagen si existe
    if (usuario.fotoPerfil) {
      document.getElementById("preview").src = usuario.fotoPerfil;
    }

    document.getElementById("nombre").value = usuario.nombre || "";
    document.getElementById("correo").value = usuario.correo || "";
    document.getElementById("fechaNacimiento").value = usuario.fechaNacimiento || "";
    document.getElementById("telefono").value = usuario.telefono || "";
    document.getElementById("direccion").value = usuario.direccion || "";
    document.getElementById("codigoPostal").value = usuario.codigoPostal || "";
    document.getElementById("pais").value = usuario.pais || "Perú";
    document.getElementById("distrito").value = usuario.distrito || "";
    document.getElementById("sexo").value = usuario.sexo || "";

    document.getElementById("imgInput").addEventListener("change", function(e) {
      const file = e.target.files[0];
      if (file) {
        const reader = new FileReader();
        reader.onloadend = function() {
          document.getElementById("preview").src = reader.result;
          usuario.fotoPerfil = reader.result;
          localStorage.setItem("usuarioActual", JSON.stringify(usuario));
        };
        reader.readAsDataURL(file);
      }
    });

    function habilitarEdicion() {
      inputs.forEach(el => el.disabled = false);
    }

    function eliminarCuenta() {
      if (confirm("¿Seguro que deseas eliminar tu cuenta?")) {
        localStorage.removeItem("usuarioActual");
        alert("Cuenta eliminada");
        window.location.href = "index.html";
      }
    }

    form.addEventListener("submit", function(e) {
      e.preventDefault();

      const actualizado = {
        ...usuario,
        nombre: document.getElementById("nombre").value,
        correo: document.getElementById("correo").value,
        fechaNacimiento: document.getElementById("fechaNacimiento").value,
        telefono: document.getElementById("telefono").value,
        direccion: document.getElementById("direccion").value,
        codigoPostal: document.getElementById("codigoPostal").value,
        pais: document.getElementById("pais").value,
        distrito: document.getElementById("distrito").value,
        sexo: document.getElementById("sexo").value,
        loggedIn: true
      };

      localStorage.setItem("usuarioActual", JSON.stringify(actualizado));
      mostrarToast("✅ Cambios guardados correctamente.");
      inputs.forEach(el => el.disabled = true);
    });
  </script>
</body>
</html>
